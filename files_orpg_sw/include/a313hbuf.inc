C
C RCS info
C $Author: steves $
C $Locker:  $
C $Date: 2007/02/05 19:10:14 $
C $Id: a313hbuf.inc,v 1.7 2007/02/05 19:10:14 steves Exp $
C $Revision: 1.7 $
C $State: Exp $
C
*.*******************************************************************
*.
*.           I N C L U D E    F I L E    P R O L O G U E
*.
*.  INCLUDE FILE NAME: A313HBUF.INC
*.
*.  INCLUDE FILE VERSION: 06
*.
*.  INCLUDE FILE LANGUAGE: FORTRAN
*.
*.  CHANGE HISTORY:
*.
*.  DATE         RV   SPR#          PROGRAMMER         NOTES
*.  ---------    --   -----         ----------------   --------------
*.  01 04 91     00   90888         PAUL JENDROWSKI    A313HYPP
*.  02 20 91     00   91685         PAUL JENDROWSKI    A313HYPP
*.  10 20 92     01   NA92-28001    BRADLEY SUTKER     HYPP
*.  06 02 95     02   NA94-35301    R. RIERSON         A313HYPP
*.  07 26 95     02   NA95-13201    Richard Fulton     A313HYPP
*.  10 10 95     02   NA94-33202    Dong-Jun Seo       A313HYPP
*.  01/31/02     03   NA01-27501    D.Miller, F.Ding   A3CD70C2, A3CD70C4
*.  07/31/02     03   NA02-11605    C. Pham, D. Miller A313HYPP
*.  06/30/03     04   NA02-06508    C. Pham, D. Miller A313HYPP, A313HYP3
*.  01/13/05     05   NA04-33201    C. Pham, D. Miller A313HYPP
*.  01/26/07     06   NA07-01702    Jihong Liu         A313HYPP  
*.
*.*******************************************************************
**A313HYPP
*VERSION: 0003
C************* HYDROMET SHARED BUFFER PARAMETER FILE ***************
C*************************( A313HYPP.PRM )**************************
C
C** SIZING PARAMETERS FOR SHARED ARRAYS
C
      INTEGER  HYZ_MESG,  HYZ_ADAP,  HYZ_SUPL,  HYZ_LFM4
      INTEGER  MAX_AZMTHS, MAX_RADS
C
C** .....WITHIN ADAPTATION DATA ARRAY
C
      INTEGER  ASIZ_PRE, ASIZ_RATE, ASIZ_ACUM, ASIZ_ADJU
C
      PARAMETER (ASIZ_PRE=14, ASIZ_RATE=6, ASIZ_ACUM=7, ASIZ_ADJU=4)
C
C** .....WITHIN SUPPLEMENTAL DATA ARRAY
C
      INTEGER  SSIZ_PRE, SSIZ_RATE, SSIZ_ACUM, SSIZ_ADJU
C
      PARAMETER (SSIZ_PRE=15, SSIZ_RATE=10, SSIZ_ACUM=16, SSIZ_ADJU=5)
C
C** .....ALL SHARED ARRAYS
C
      PARAMETER (HYZ_MESG=6)
      PARAMETER (HYZ_ADAP=ASIZ_PRE + ASIZ_RATE + ASIZ_ACUM + ASIZ_ADJU)
      PARAMETER (HYZ_SUPL=SSIZ_PRE + SSIZ_RATE + SSIZ_ACUM + SSIZ_ADJU)
      PARAMETER (HYZ_LFM4=13)
      PARAMETER (MAX_AZMTHS=360, MAX_RADS=400)
C
C** OFFSET PARAMETERS FOR SHARED ARRAYS
C
      INTEGER  HYO_MESG,  HYO_ADAP,  HYO_SUPL,  HYO_LFM4
C
      PARAMETER (HYO_MESG=0)
      PARAMETER (HYO_ADAP=HYO_MESG + HYZ_MESG)
      PARAMETER (HYO_SUPL=HYO_ADAP + HYZ_ADAP)
      PARAMETER (HYO_LFM4=HYO_SUPL + HYZ_SUPL)
C
C-------------------------------------------------------------------
C
C** SIZING PARAMETERS FOR PREPROC. ARRAYS
C
      INTEGER  MAX_HYBINS
C
      PARAMETER (MAX_HYBINS=230)
C
C** OFFSET PARAMETERS FOR PREPROC. ARRAYS
C
      INTEGER  HYO_HYBRID, HYO_HYBRID_E 
C
      PARAMETER (HYO_HYBRID=HYO_SUPL + HYZ_SUPL)
      PARAMETER (HYO_HYBRID_E=HYO_HYBRID + (MAX_HYBINS*MAX_AZMTHS+1)/2)
C
C** SIZING PARAMETERS FOR RATE ARRAYS
C
      INTEGER  MAX_RABINS
C
      PARAMETER (MAX_RABINS=115)
C
C** OFFSET PARAMETERS FOR RATE ARRAYS
C
      INTEGER  HYO_RATE
C
      PARAMETER (HYO_RATE=HYO_LFM4 + (HYZ_LFM4*HYZ_LFM4+1)/2)
C
C** SIZING PARAMETERS FOR ACCUMULATION ARRAYS
C
      INTEGER  MAX_ACUBINS
C
      PARAMETER (MAX_ACUBINS=MAX_RABINS)
C
C** OFFSET PARAMETERS FOR ACCUMULATION ARRAYS
C
      INTEGER  HYO_ACUSCAN, HYO_ACUHRLY
C
      PARAMETER (HYO_ACUSCAN=HYO_LFM4   +(HYZ_LFM4*HYZ_LFM4+1)/2)
      PARAMETER (HYO_ACUHRLY=HYO_ACUSCAN+(MAX_ACUBINS*MAX_AZMTHS+1)/2)
C
C** SIZING PARAMETERS FOR ADJUSTMENT ARRAYS
C** ADD THE BIAS SOURCE ID IN THE BHEADER
C
      INTEGER  N_BIAS_FLDS, N_BIAS_LINES, HYZ_BTABL, HYZ_BHEADER
      INTEGER  MAX_ADJBINS
C
      PARAMETER( N_BIAS_FLDS=5, N_BIAS_LINES=10, HYZ_BHEADER=1 )

      PARAMETER (HYZ_BTABL = N_BIAS_FLDS * N_BIAS_LINES )

      PARAMETER (MAX_ADJBINS=MAX_ACUBINS)
C
C** OFFSET PARAMETERS FOR ADJUSTMENT ARRAYS
C
      INTEGER  HYO_BTABL, HYO_ADJSCAN, HYO_ADJHRLY, HYO_BHEADER
C
      PARAMETER (HYO_BHEADER =HYO_LFM4  +(HYZ_LFM4*HYZ_LFM4+1)/2)
      PARAMETER (HYO_BTABL  =HYO_BHEADER + HYZ_BHEADER)
      PARAMETER (HYO_ADJSCAN=HYO_BTABL + HYZ_BTABL)
      PARAMETER (HYO_ADJHRLY=HYO_ADJSCAN+(MAX_ADJBINS*MAX_AZMTHS+1)/2)
C
C-------------------------------------------------------------------
C
C** POSITIONAL PARAMETERS WITHIN PRECIP_STATUS_MESSAGE ARRAY
C
      INTEGER  DAT_STAMP,  TIM_STAMP,  DAT_LAST,  TIM_LAST
      INTEGER  PCP_CATCUR, PCP_CATLST
C
      PARAMETER (DAT_STAMP = 1, TIM_STAMP = 2)
      PARAMETER (DAT_LAST  = 3, TIM_LAST  = 4)
      PARAMETER (PCP_CATCUR= 5, PCP_CATLST= 6)
C
C-------------------------------------------------------------------
C
C** OFFSET PARAMETERS WITHIN ADAPTATION DATA ARRAY
C
      INTEGER  AOFF_PRE, AOFF_RATE, AOFF_ACUM, AOFF_ADJU
C
      PARAMETER (AOFF_PRE=0)
      PARAMETER (AOFF_RATE=AOFF_PRE  + ASIZ_PRE)
      PARAMETER (AOFF_ACUM=AOFF_RATE + ASIZ_RATE)
      PARAMETER (AOFF_ADJU=AOFF_ACUM + ASIZ_ACUM)
C
C** POSITIONAL PARAMETERS WITHIN ADAPTATION DATA ARRAY
C
C** ...ENHANCED PREPROCESSING
C
      INTEGER  BEAM_WDTH,  BLK_THRES,  CLUT_THRES, WEIG_THRES
      INTEGER  FHYS_THRES, LOWZ_THRES, RAIN_ZTHR,  RAIN_ATHR
      INTEGER  MIN_ZREFL,  MAX_ZREFL,  MLT_ZRCOEF, PWR_ZRCOEF
      INTEGER  NUM_EXZONE, RAIN_TMTHR

C
      PARAMETER (BEAM_WDTH = 1, BLK_THRES  = 2)
      PARAMETER (CLUT_THRES= 3, WEIG_THRES = 4)
      PARAMETER (FHYS_THRES= 5, LOWZ_THRES = 6)
      PARAMETER (RAIN_ZTHR = 7, RAIN_ATHR  = 8)
      PARAMETER (RAIN_TMTHR= 9, MLT_ZRCOEF =10)
      PARAMETER (PWR_ZRCOEF=11, MIN_ZREFL  =12)
      PARAMETER (MAX_ZREFL =13, NUM_EXZONE =14)
C
C** ...PRECIPITATION RATE
C
      INTEGER  RNG_CUTOFF, RNG_E1COEF
      INTEGER  RNG_E2COEF, RNG_E3COEF
      INTEGER  MIN_PRATE,  MAX_PRATE
C
      PARAMETER (RNG_CUTOFF= 1, RNG_E1COEF= 2)
      PARAMETER (RNG_E2COEF= 3, RNG_E3COEF= 4)
      PARAMETER (MIN_PRATE = 5, MAX_PRATE = 6)
C
C** ...PRECIPITATION ACCUMULATION
C
      INTEGER  TIM_RESTRT, MAX_TIMINT, MIN_TIMPRD, THR_HLYOUT
      INTEGER  END_TIMGAG, MAX_PRDVAL, MAX_HLYVAL
C
      PARAMETER (TIM_RESTRT= 1 )
      PARAMETER (MAX_TIMINT= 2, MIN_TIMPRD= 3)
      PARAMETER (THR_HLYOUT= 4, END_TIMGAG= 5)
      PARAMETER (MAX_PRDVAL= 6, MAX_HLYVAL= 7)
C
C** ...PRECIPITATION ADJUSTMENT
C
C
      INTEGER  TIM_BIEST, THR_NPAIRS, RES_BIAS, LNGST_LAG
C
      PARAMETER (TIM_BIEST = 1, THR_NPAIRS= 2)
      PARAMETER (RES_BIAS  = 3, LNGST_LAG = 4)
C
C-------------------------------------------------------------------
C
C** OFFSET PARAMETERS WITHIN SUPPLEMENTAL DATA ARRAY
C
      INTEGER  SOFF_PRE, SOFF_RATE, SOFF_ACUM, SOFF_ADJU
C
      PARAMETER (SOFF_PRE=0)
      PARAMETER (SOFF_RATE=SOFF_PRE  + SSIZ_PRE)
      PARAMETER (SOFF_ACUM=SOFF_RATE + SSIZ_RATE)
      PARAMETER (SOFF_ADJU=SOFF_ACUM + SSIZ_ACUM)
C
C** POSITIONAL PARAMETERS WITHIN SUPPLEMENTAL DATA ARRAY
C
C** ...ENHANCED PREPROCESSING
C
      INTEGER  AVG_SCNDAT, AVG_SCNTIM, FLG_ZEROHY, FLG_RAINDET
      INTEGER  FLG_RESTP,  FLG_PCPBEG, LST_DATRN,  LST_TIMRN
      INTEGER  BLKG_CNT,   CLUTR_CNT,  TBIN_SMTH,  HYS_FILL
      INTEGER  HIG_ELANG,  RAIN_AREA,  VOL_STAT

      PARAMETER (AVG_SCNDAT=SOFF_PRE +  1, AVG_SCNTIM =SOFF_PRE + 2)
      PARAMETER (FLG_ZEROHY=SOFF_PRE +  3, FLG_RAINDET=SOFF_PRE + 4)
      PARAMETER (FLG_RESTP =SOFF_PRE +  5, FLG_PCPBEG =SOFF_PRE + 6)
      PARAMETER (LST_DATRN =SOFF_PRE +  7, LST_TIMRN  =SOFF_PRE + 8)
      PARAMETER (BLKG_CNT  =SOFF_PRE +  9, CLUTR_CNT  =SOFF_PRE + 10)
      PARAMETER (TBIN_SMTH =SOFF_PRE + 11, HYS_FILL   =SOFF_PRE + 12)
      PARAMETER (HIG_ELANG =SOFF_PRE + 13, RAIN_AREA  =SOFF_PRE + 14)
      PARAMETER (VOL_STAT  =SOFF_PRE + 15)
C
C** ...PRECIPITATION RATE
C
      INTEGER  FLG_ZERATE, FLG_BADSCN, CNT_BADSCN, FLG_ZERREF
      INTEGER  REF_SCNDAT, REF_SCNTIM, TIM_SCNDIF, BAD_SCNPTR
      INTEGER  REF_SCNGOD, SCAN_SB_STAT
C
      PARAMETER (FLG_ZERATE=SOFF_RATE +  1)
      PARAMETER (FLG_BADSCN=SOFF_RATE +  2, CNT_BADSCN=SOFF_RATE +  3)
      PARAMETER (FLG_ZERREF=SOFF_RATE +  4, REF_SCNDAT=SOFF_RATE +  5)
      PARAMETER (REF_SCNTIM=SOFF_RATE +  6, TIM_SCNDIF=SOFF_RATE +  7)
      PARAMETER (BAD_SCNPTR=SOFF_RATE +  8, REF_SCNGOD=SOFF_RATE +  9)
      PARAMETER (SCAN_SB_STAT=SOFF_RATE + 10)
C
C** ...PRECIPITATION ACCUMULATION
C
      INTEGER  FLG_ZERSCN, FLG_MSGPRD, MAX_HLYACU
      INTEGER  BEG_MISDAT, BEG_MISTIM, END_MISDAT, END_MISTIM
      INTEGER  FLG_ZERHLY, FLG_NOHRLY, BEG_HRDATE, BEG_HRTIME
      INTEGER  END_HRDATE, END_HRTIME, HLY_SCNTYP, NUM_INTOUT
      INTEGER  FLG_SPOT_BLANK
C
      PARAMETER (FLG_ZERSCN=SOFF_ACUM +  1, FLG_MSGPRD=SOFF_ACUM +  2)
      PARAMETER (BEG_MISDAT=SOFF_ACUM +  3, BEG_MISTIM=SOFF_ACUM +  4)
      PARAMETER (END_MISDAT=SOFF_ACUM +  5, END_MISTIM=SOFF_ACUM +  6)
      PARAMETER (FLG_ZERHLY=SOFF_ACUM +  7, FLG_NOHRLY=SOFF_ACUM +  8)
      PARAMETER (BEG_HRDATE=SOFF_ACUM +  9, BEG_HRTIME=SOFF_ACUM + 10)
      PARAMETER (END_HRDATE=SOFF_ACUM + 11, END_HRTIME=SOFF_ACUM + 12)
      PARAMETER (HLY_SCNTYP=SOFF_ACUM + 13, NUM_INTOUT=SOFF_ACUM + 14)
      PARAMETER (MAX_HLYACU=SOFF_ACUM + 15)
      PARAMETER (FLG_SPOT_BLANK=SOFF_ACUM + 16)
C
C** ...PRECIPITATION ADJUSTMENT
C
      INTEGER  CUR_BIAS, CUR_GRPSIZ, CUR_MSPAN, DAT_BCALC, TIM_BCALC
C
      PARAMETER (CUR_BIAS  =SOFF_ADJU + 1, CUR_GRPSIZ=SOFF_ADJU + 2)
      PARAMETER (DAT_BCALC =SOFF_ADJU + 3, TIM_BCALC =SOFF_ADJU + 4)
      PARAMETER (CUR_MSPAN =SOFF_ADJU + 5)
C
C-------------------------------------------------------------------
C
C** HYDROMET SHARED PARAMETER VALUES
C
      INTEGER  FLG_MISSNG, FLG_NOBIAS                                   NA94-33202
      INTEGER  FLAG_CLEAR, FLAG_SET
      INTEGER  END_CURR, END_CLOCK, END_GAGE, END_BOTH
      REAL     RATE_SCALING,  PI,  DEG_TO_RAD
C
      PARAMETER (FLG_MISSNG=-99, FLG_NOBIAS=-98)                        NA94-33202
      PARAMETER (FLAG_CLEAR=0, FLAG_SET=1)
      PARAMETER (END_CURR=0, END_CLOCK=1, END_GAGE=2, END_BOTH=3)
      PARAMETER (RATE_SCALING=10., PI=3.14159, DEG_TO_RAD=.017453)
C
C** ACCOUNT PARAMETER FOR A3CM04__FULL_NAME CALLS
C
      CHARACTER*5 HYDRO_ACCT
      PARAMETER(HYDRO_ACCT='0')
C
C** ALARM FLAG FOR A3CM08 CALLS FOR DISK I/O ERRORS
C
      INTEGER HYALARM_FLG
      PARAMETER(HYALARM_FLG=0)
C
C** FLAG VALUE FOR ILLEGAL TIME DIFFERENCE THAT REQUIRES DATABASE
C** RE-INITIALIZATION
C
      INTEGER FLAG_TIME_DIF
      PARAMETER(FLAG_TIME_DIF = 1 999 999 999)
/*
**A313HYDD
*VERSION: 0
C************** HYDROMET SHARED BUFFER DEFINITION FILE ***************
C*************************( A313HYDD.PRM )****************************
C
C** MESSAGE ARRAY DEFINITION
C
      INTEGER  HYDRMESG (HYZ_MESG)
C
C** ADAPTATION DATA ARRAY DEFINITION
C
      REAL  HYDRADAP (HYZ_ADAP)
C
C** SUPPLEMENTAL DATA ARRAY DEFINITION
C
      INTEGER  HYDRSUPL (HYZ_SUPL)
C
C** 1/4 LFM GRID ARRAY DEFINITION
C
      INTEGER*2 LFM4GRD (HYZ_LFM4,HYZ_LFM4)
/*
**A313HYP3
*VERSION: 0
C************ PRECIPITATION PREPROCESSING PARAMETER FILE *************
C***************************( A313HYP3 )******************************
C
C** BUFFER-SIZING PARAMETERS (WITH & WITHOUT HYBRID SCAN)
C
      INTEGER   LRGSIZ_HYBRID
C
      PARAMETER (LRGSIZ_HYBRID=HYO_HYBRID+(MAX_HYBINS*MAX_AZMTHS+1)/2)
/*
**A313HYD3
*VERSION: 0
C************ PRECIPITATION PREPROCESSING DEFINITION FILE ************
C***************************( A313HYD3 )******************************
C
C** HYBRID-SCAN ARRAY
C
      INTEGER*2 HYBRSCAN (MAX_HYBINS,MAX_AZMTHS)
/*
**A313HYD2
*VERSION: 0
C************ PRECIPITATION PREPROCESSING DEFINITION FILE ************
C***************************( A313HYD2 )******************************
C
C** HYBRID-SCAN ARRAY
C
      INTEGER*2 HYBRSCAN_LINEAR(MAX_HYBINS*MAX_AZMTHS)
/*
**A313HYP4
*VERSION: 0
C**************** PRECIPITATION RATE PARAMETER FILE ******************
C***************************( A313HYP4 )******************************
C
C** BUFFER-SIZING PARAMETERS (WITH & WITHOUT RATE SCAN)
C
      INTEGER  SMLSIZ_RATE, LRGSIZ_RATE
C
      PARAMETER (SMLSIZ_RATE=HYO_RATE)
      PARAMETER (LRGSIZ_RATE=HYO_RATE+(MAX_RABINS*MAX_AZMTHS+1)/2)
/*
**A313HYD4
*VERSION: 0
C**************** PRECIPITATION RATE DEFINITION FILE *****************
C***************************( A313HYD4 )******************************
C
C** RATE-SCAN ARRAY
C
      INTEGER*2 RATESCAN (MAX_RABINS,MAX_AZMTHS)
/*
**A313HYP5
*VERSION: 0
C************ PRECIPITATION ACCUMULATION PARAMETER FILE **************
C***************************( A313HYP5 )******************************
C
C** BUFFER-SIZING PARAMETERS (WITH & WITHOUT ACCUM. & HOURLY SCANS)
C
      INTEGER  SMLSIZ_ACUM, MEDSIZ_ACUM, LRGSIZ_ACUM
C
      PARAMETER (SMLSIZ_ACUM=HYO_ACUSCAN)
      PARAMETER (MEDSIZ_ACUM=HYO_ACUHRLY)
      PARAMETER (LRGSIZ_ACUM=HYO_ACUHRLY+(MAX_ACUBINS*MAX_AZMTHS+1)/2)
/*
**A313HYD5
*VERSION: 0
C************ PRECIPITATION ACCUMULATION DEFINITION FILE *************
C***************************( A313HYD5 )******************************
C
C** ACCUMULATION ARRAYS (SCAN-TO-SCAN AND HOURLY)
C
      INTEGER*2 ACUMSCAN (MAX_ACUBINS,MAX_AZMTHS)
      INTEGER*2 ACUMHRLY (MAX_ACUBINS,MAX_AZMTHS)
/*
**A313HYP6
*VERSION: 0
C************* PRECIPITATION ADJUSTMENT PARAMETER FILE ***************
C***************************( A313HYP6 )******************************
C
C** BUFFER-SIZING PARAMETERS (WITH & WITHOUT ACCUM. & HOURLY SCANS)
C
      INTEGER  SMLSIZ_ADJU, MEDSIZ_ADJU, LRGSIZ_ADJU, HRLY_SIZE
C
      PARAMETER (SMLSIZ_ADJU=HYO_ADJSCAN)
      PARAMETER (MEDSIZ_ADJU=HYO_ADJHRLY)
      PARAMETER (LRGSIZ_ADJU=HYO_ADJHRLY+(MAX_ADJBINS*MAX_AZMTHS+1)/2)
      PARAMETER (HRLY_SIZE=(MAX_ADJBINS*MAX_AZMTHS+1)/2)
/*
**A313HYD6
*VERSION: 0
C************* PRECIPITATION ADJSTMENT DEFINITION FILE **************
C***************************( A313HYD6 )******************************
C
C** ADJUSTED ACCUMULATION ARRAYS (SCAN-TO-SCAN AND HOURLY)
C
      INTEGER*2 ADJSCAN (MAX_ADJBINS,MAX_AZMTHS)
      INTEGER*2 ADJHRLY (MAX_ADJBINS,MAX_AZMTHS)
/*
