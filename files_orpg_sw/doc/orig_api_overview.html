<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
   <head>
      <title>
         Vol 3. Doc 1. Sec I - WSR-88D Algorithm API Overview
      </title>
   </head>
   <body text="Black" bgcolor="#EEEEEE" link="Blue" vlink="#551A8B" alink=
   "Red">
      <h2>
         Vol 3. Document 1 -<br>
          The WSR-88D Algorithm Algorithm API
      </h2>
      <h2>
         Section I&nbsp;&nbsp;WSR-88D Algorithm API Overview
      </h2>
      <br>
       
      <p>
         The ORPG provides two bindings for the WSR-88D Algorithm API. A
         FORTRAN binding provides the interface for the ported legacy
         algorithms. These services are provided by the shared library
         <tt><b>librpg</b></tt>. An ANSI-C binding, provided by
         <tt><b>librpgc</b></tt>, can be used to write new algorithms in C. A
         set of FORTRAN subroutines used by more than one legacy algorithm is
         provided by a common module library, <tt><b>librpgcm</b></tt>. These
         common routines have not been ported to C. The relationship between
         these API libraries and ORPG infrastructure services is depicted by
         the following diagram. The diagram also indicates planned enhancements
         to the C API including a standard data structure. A standard data
         structure facilitates the creation of a Common Calculations library.
      </p>
      <br>
       
      <div align="center">
         <img src="api_layers_enhanced.gif" width="546" height="451" border="2"
         alt="">
      </div>
      <br>
       
      <p>
         The <a href="original_chart.html" target="original_chart">Algorithm
         API Chart</a> provides a quick comparison of the FORTRAN and C API's.
         These API's are similar but there are notable differences. The ANSI-C
         version does not support the following:
      </p>
      <ol type="a">
         <li>
            Inter-task Common Blocks
         </li>
         <li>
            Emulation of legacy RPG operating system (OS32) calls.
         </li>
         <li>
            Legacy Common Module Functionality
         </li>
      </ol>
      <p>
         This does not limit algorithms that are developed in C. OS32 service
         call emulation and Inter-task Common Blocks are artifacts of
         programming on the legacy system and are not needed for new
         algorithms. Some of the legacy common modules are not candidates for
         porting to C because they are useful only to a particular algorithm
         (or a certain type of algorithm). Some of the common modules could not
         be called from a C algorithm as written (e.g. depend on FORTRAN COMMON
         blocks) and others are not particularly conducive to C style
         programming.<br>
      </p>
      <table width="90%">
         <tr valign="top">
            <td>
               <font size="-1">Note:&nbsp;</font> <br>
                
            </td>
            <td>
               <font size="-1">Part of the CODE project includes porting a few
               selected common modules (for example, Run Length Encoding for
               radial and raster packet products).</font> 
            </td>
         </tr>
      </table>
      <br>
   </body>
</html>

