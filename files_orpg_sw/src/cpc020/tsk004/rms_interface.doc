File rms_interface.doc


This file describes the RMS interface.

DESCRIPTION:

The FAA/RMMS runs on a standard PC using the Windows NT operating system. The
FAA program itself was developed using NEMASoft Paragon Applications Manager.
The interface provides the means to transfer data between the ORPG and FAA/RMMS,
and is connected to both ORPGs in the FAA redundant configuration.

The FAA/RMMS to ORPG interface is serial EIA RS-232 operating asynchronously
full duplex at 9600 baud. The FAA/RMMS is connected directly to each ORPG's
multiplexer board without the use of modems. The control signals used for the
interconnections between the FAA/RMMS and the ORPG are shown in Table I,
of the Interface Control Document for the ORPG/RMS (Doc. # 2620017).  Other
RS-232 interchange circuit signals are not required since the interface is
asynchronous and modems are not used. Data formats will be IAW VT-100
terminal emulation protocol. The emulator should be configured for 9600 baud,
even parity, 7 data bits, and 1 stop bit.

DATA TRANSMITTED:

The data messages can be sub-divided into Status Messages, Command Messages,
Acknowlegement Messages, and two special cases, RMS Inhibit and RMS UP messages.
Status messages come for ORPG to the FAA/RMMS, while command messages go from
the FAA/RMMS to the ORPG. Acknowledgement messages are sent in response to any
other message (status or command), and provide feedback as to whether the
command was accepted or rejected, as well as the reason for rejection.

For all messages transmitted from either FAA/RMMS or ORPG, packet termination
characters will be sent at the end. This will enable RMS to detect the end of a
received message. The last two halfwords of a message shall be set to "7F7F"
to indicate the termination of a message.

When rms_interface is invoked it initializes the system by creating the
required linear buffers and registering alarms and events.  When the
interface is shut down it will remove most of the the linear buffers and
deregister all alarms and events. Most of the  housekeeping for the interface is
internal. The RMS_LE_BUFFER, RMS_TEXT_BUFFER, and RMS_STATUS_BUFFER are static
and will remain after the interface is shutdown.

LINEAR BUFFERS:

RMS_INPUT_BUFFER - Messages coming into the ORPG are placed in this linear buffer
by the port manager. These messages consist of a string of unsigned 7-bit bytes.
An event is then posted to alert the RMS software that a message has been
received.

RMS_OUTPUT_BUFFER - Messages sent from ORPG are placed in this linear buffer so
the port manager can read them. The port manager than takes the message and
sends it in an unsigned 7-bit format to the FAA/RMMS.

RMS_LE_BUFFER - Buffer for log error messages. This is the standard message
linear buffer used by all ORPG tasks.

RMS_TEXT_BUFFER - Free text messages generated by the HCI are placed in this
linear buffer for access by the interface. This is a shared linear buffer
between the RMS and HCI. When a message is placed in the linear buffer an event
is sent that alerts the rms software to send the message to the FAA/RMMS. The
message is placed in the RMS_OUTPUT_BUFFER for the port manager to send.

RMS_RESEND_BUFFER - Messages sent to the FAA/RMMS are temporarily stored
in this linear buffer until an acknowledgement message (ACK) is received.  The
messages that don't receive an ACK are sent a minimum of three times to the
FAA/RMMS. If enough messages do not receive an ACK the interface is declared
down and the RMS UP message is activated.

RMS_STATUS_LOG_BUFFER - This linear buffer is used to store Status Log messages
that are generated by the ORPG. The maximum number of messages this linear
buffer can store is 1500. This linear buffer only stores messages when the
interface connection is down. When the interface returns to normal all messages
in the linear buffer are sent to the FAA/RMMS and the linear buffer is cleared.

RMS_STATUS_BUFFER - This linear buffer stores the current RMS interface settings so
they can be restored when the interface returns from a down condition. It is
currently used to store edit lock information.  Any information that must remain
static for an RMS recovery can be added later.  This linear buffer is not removed when
the interface is shutdown.

MALRMS:

MALRM_SEND_STATUS_MSG - This timer sends a status message to the FAA/RMMS
every 60 seconds.
(see RPG STATUS MESSAGE )

MALRM_SEND_STATE_MSG - This timer sends an RPG state message to the FAA/RMMS
every 60 seconds.
(see RPG STATE MESSAGE)

MALRM_SEND_ALARM_MSG - This timer sends an ORPG alarm message to the FAA/RMMS
every 60 seconds.
(see ALARM MESSAGE)

MALRM_CHECK_RESEND - This timer checks the resend linear buffer every 20 seconds
to see if any ORPG messages sent to the FAA/RMMS have not received an
acknowledgment. If a message has not received an acknowledgment the check resend
routine will resend the message.
(rms_check_resend.c)

MALRM_SEND_RMS_UP - This timer is set only when the interface is down.  It sends
an RMS_UP message every 10 seconds until an acknowledgement is recieved from
the FAA/RMMS indicating the interface is up.
(see RMS UP MESSAGE)

EVENTS:

ORPGEVT_RMS_MSG_RECEIVED - This event is posted by the port manager whenever a
message is received from the FAA/RMMS and placed in the input linear buffer. The
callback routine reads the input linear buffer, strips the header, and sends it
to the proper handler.
(rms_handle_msg.c)

ORPGEVT_RDA_ALARMS_UPDATE - This event sends an ORPG alarm message to the
FAA/RMMS when an ORPG, Wideband, or RDA system alarm occurs.
(see ALARM MESSAGE)

ORPGEVT_RPG_STATUS_CHANGE - This event sends a status message to the FAA/RMMS
when a system status changes. This status refers to the ORPG state (i.e. 
operate, standby, etc. ).
(see RPG STATE MESSAGE)

ORPGEVT_RMS_SEND_MSG - This event is posted by the interface whenever a message
is placed in the output buffer. The port manager reads the output linear buffer
and sends the message to the FAA/RMMS. (rms_ptmgr.c)

ORPGEVT_RMS_INHIBIT_MSG - This event is posted by HCI when an inhibit time is
entered.  The callback routine sends the inhibit time to the RMS which formats
the message and places it in the output buffer. The interface then posts a send
message event to alert the port manager to send the message to the FAA/RMMS.
(see RMS INHIBIT MESSAGE)

ORPGEVT_RMS_TEXT_MSG - This event is posted by HCI when a text message is
entered. The callback routine reads the message from the text linear buffer then
formats the message and places it in the output buffer. The interface then posts
a send message event to alert the port manager to send the message to the
FAA/RMMS..
(see DISPLAY FREE TEXT MESSAGE COMMAND)

+++ PROC

EVENTS IN
                ORPGEVT_RMS_MSG_RECEIVED
                ORPGEVT_RMS_SEND_MSG
                ORPGEVT_RESET_RMS

APIs USED
                ORPGMISC(3)
                ORPGTASK(3)
                LB(3)
                EN(3)
                MALRM(3)
                ORPGDA(3)
---

MESSAGES (ICD #2620017):

(1)  RPG STATE MESSAGE (ORPG to FAA/RMMS) - The ORPG state message is transmitted
from the ORPG to the FAA/RMMS immediately following a change in state of the
ORPG and once every minute.
The DATA ARGUMENT is:
                                RPG STATE:
                                        Restart (1)
                                        Operate (2)
                                        Standby (4)
                                        Shutdown (8)
                                        Test (16)
(rms_rpg_state.c)

(2)  RPG STATUS MESSAGE (ORPG to FAA/RMMS) - The status message transmitted from the
ORPG to the FAA/RMMS is comprised of RDA status data, ORPG status data,
Communications line status data, and PUP status data.  Complete status data will
be sent to the FAA/RMMS every minute.
The DATA ARGUMENTS are:
                                RPG EQUIPMENT OPERABILITY STATUS:
                                        Load shed (1)
                                        On-Line (2)
                                        Maintenance Action Required (4)
                                        Mantenance Action Mandatory (8)
                                        Commanded shutdown (16)
                                RPG CHANNEL CONTROL:
                                        In Transition (0)
                                        Primary RPG in control (1)
                                        Redundant RPG in control (2)
                                RDA CHANNEL STATUS:
                                        Controlling (0)
                                        Non-Controlling (1)
                                        Unknown (>1)
                                NARROWBAND/WIDEBAND RELAY STATUS:
                                        Assigned (1)
                                        Unassigned (2)
                                        Unknown (3)
                                AUTO PRF:
                                        Disabled (0)
                                        Enabled (1)
                                WEATHER MODE:
                                        Maintenance (0)
                                        Precip/Severe Weather (1)
                                        Clear Air (2)
                                        Spare (3)
                                CURRENT RPG VOLUME (1 - 767)
                                RPG VCP START TIME ("0 - 86,399.999")
                                CURRENT ELEVATION CUT ( "-1.0 to +45.0")
                                CRRENT RPG CPU UTILIZATION (0 - 100)
                                CURRENT RPG MEMORY UTILIZATION (0 - 100)
                                CRRENT RPG STORAGE UTILIZATION (0 - 100)
                                CURRENT RPG INPUT UTILIZATION (0 - 100)
                                NARROWBAND LINE UTILIZATION LINE#1 (-1, 0 - 100, >100)
                                .
                                . (Narrowband Utilization for Lines #2 - #31)
                                .
                                NARROWBAND LINE UTILIZATION LINE#32 (-1, 0-100, >100)
                                NARROWBAND LINE WITH HIGHEST UTILIZATION (1 - 47)
                                WIDEBAND STATUS WB#1:
                                        Not Implemented (0)
                                        Connect Pending (1)
                                        Disconnect Pending (2)
                                        Disconnect - UCP Initiated (3)
                                        Disconnect - Unsolicited (4)
                                        Connected (5)
                                        Down (6)
                                        Failure (7)
                                WIDEBAND STATUS WB#2:
                                        Not Implemented (0)
                                        Connect Pending (1)
                                        Disconnect Pending (2)
                                        Disconnect - UCP Initiated (3)
                                        Disconnect - Unsolicited (4)
                                        Connected (5)
                                        Down (6)
                                        Failure (7)
                                WIDEBAND LOGICAL WB#1:
                                        Unused (0)
                                        Primary (1)
                                        Secondary (2)
                                        User Site (3)
                                WIDEBAND LOGICAL WB#2:
                                        Unused (0)
                                        Primary (1)
                                        Secondary (2)
                                        User Site (3)
                                NARROWBAND STATUS FOR NB#1:
                                        Not Implemented (0)
                                        Connect Pending (1)
                                        Disconnect Pending (2)
                                        Disconnect Solicited (3)
                                        Disconnect Unsolicited (4)
                                        Line Connected (5
                                        Line down (6)
                                        Line Failed (Disconnected) (7)
                                        Noisy Line (Connected) (8)
                                        Line in validation Stage (9)
                                .
                                . (Narrowband Status for Lines #2 - #31)
                                .
                                NARROWBAND STATUS FOR NB#32:
                                        Not Implemented (0)
                                        Connect Pending (1)
                                        Disconnect Pending (2)
                                        Disconnect Solicited (3)
                                        Disconnect Unsolicited (4)
                                        Line Connected (5
                                        Line down (6)
                                        Line Failed (Disconnected) (7)
                                        Noisy Line (Connected) (8)
                                        Line in validation Stage (9)
                                RDA STATUS:
                                        Indeterminant (0)
                                        SPARE (1)
                                        Startup (2)
                                        Standby (4)
                                        Restart (8)
                                        Operate (16)
                                        Playback (32)
                                        Off-line Operate (64)
                                        SPARE (128)
                                RDA OPERABILITY STATUS:
                                        Indeterminant (0)
                                        Auto Calibration Disabled (1)
                                        On-Line (2)
                                        Maintenance Action Required (4)
                                        Maintenance Action Mandatory (8)
                                        Commanded Shutdown (16)
                                        Inoperable (32)
                                        SPARE (64)
                                        Wideband Disconnect (64)
                                        SPARE (256)
                                RDA CONTROL STATUS:
                                        Local Only (2)
                                        RPG (Remote) Only (4)
                                        Either (8)
                                AUXILLARY POWER GENERATOR STATE:
                                        Aux Power Available (1)
                                        Utility Power Available (2)
                                        Generator On (4)
                                        Transfer Switch-Manual (6)
                                        Commanded Switch Over (8)
                                        Switched to Aux Power (16)
                                AVERAGE TRANSMITTER POWER (0 - 9999)
                                REFLECTIVITY CALIBRATION CORRECTION (-10 to +10)
                                DATA TRANSMISSION ENABLED:
                                        None (2)
                                        Reflectivity (4)
                                        Velocity (8)
                                        Reflectivity & Velocity (12)
                                        Width (16)
                                        Reflectivity & Width (20)
                                        Velocity & Width (24)
                                        Reflectivity, Velocity, & Width (28)
                                RDA VOLUME COVERAGE PATTERN:
                                        Pattern:
                                                No Pattern (0)
                                                Conatant Elevation Types (1 - 99)
                                        Mode:
                                                Maintenance/Test (>255)
                                                Operational (<=255)
                                        Local/Remote:
                                                RDA Local (Negative)
                                                Remote (Positive)
                                RDA CONTROL AUTHORIZATION:
                                        No Action (0)
                                        Local Control Requested (2)
                                        Remote Control Enabled (4)
                                INTERFERENCE DETECTION RATE (0 - 32767)
                                OPERATIONAL MODE:
                                        Maintenance (2)
                                        Operational (4)
                                ISU ENABLED/DISABLED:
                                        ISU Enabled (2)
                                        ISU Disabled (4)
                                ARCHIVE II (*)
                                ARCHIVE II REMAINING CAPACITY (1 - 900)

* See Table IV - Message 2 - Halfword # 13 of the RDA to RPG ICD, document #
260002.
(rms_send_status.c)

(3)  ALARM MESSAGE (ORPG to FAA/RMMS) - The alarm message is transmitted from the
ORPG to the FAA/RMMS whenever there are task alarms in the ORPG, wideband
connection alarms, or alarms recieved from the RDA or once every minute.
The RDA alarms consist of an alarm summery halfword and the alarm message codes.
The DATA ARGUMENTS are:
                                RPG ALARM STATE:
                                        No Alarms (1)
                                        CPU Alarm (2)
                                        MEM Alarm (4)
                                        RPG Control Failure (8)
                                        Bad Disk (16)
                                        Product Disk Failure (32)
                                        Wide Band Load Shed (64)
                                        Product Load Shed (256)
                                        Wideband Fail (512)
                                        MLOS Alarm (2048)
                                        RPG to RPG Interconnect Down (4096)
                                        Redundnat Channel alarm (8192)
                                        File Access Failure (16384)
                                RPG ALARMS MAINTENANCE REQUIRED:
                                        Streamer tape Failure (1)
                                        Wideband Link Failure User Site (2)
                                        Base Data Disk Failure (32)
                                        Task Failure (Software) (64)
                                        RPG/RPG Intercomputer Link (128)
                                        Redundant Channel Error (256)
                                        MLOS FAS Failure (1024)
                                RPG ALARMS MAINTENANCE MANDATORY:
                                        Product Disk (1)
                                        RDA Wideband (2)
                                        Memory (4)
                                        CPU (8)
                                RPG ALARMS LOAD SHEDDING:
                                        Memory (1)
                                        CPU (2)
                                        Product Storage (4)
                                        Wideband (8)
                                        Narrow Band (16)
                                        User Site (64)
                                WIDEBAND ALARM STATUS #1:
                                        No Alarm (0)
                                        Minor Alarm (1)
                                        Major Alarm (2)
                                        Remote Alarm (3)
                                        Fuse Alarm (4)
                                WIDEBAND ALARM STATUS #2:
                                        No Alarm (0)
                                        Minor Alarm (1)
                                        Major Alarm (2)
                                        Remote Alarm (3)
                                        Fuse Alarm (4)
                                RDA ALARM SUMMERY:
                                        No Alarms (0)
                                        Tower/Utilities (2)
                                        Pedestal (4)
                                        Transmitter (8)
                                        Receiver/Signal Processor (16)
                                        RDA Control (32)
                                        RPG Communication (64)
                                        User Communication (128)
                                        Archive II (256)
                                RDA ALARM CODES (*) (0 - 800)

* One condition per halfword with a maximum of 14 alarms sent at one time. See
Alarm Message Table III-A (RDA/RPG ICD) for individual alarm codes. MSB set
indicates alarm has been cleared.
(rms_alarm_msg.c)

(4)  RDA STATE COMMAND (FAA/RMMS to ORPG) - Command to change the state of the RDA.
The DATA ARGUMENTS are:
                                RDA STATE COMMAND:
                                        Standby (1)
                                        Restart (2)
                                        Operate (5)
                                        Offline Operate (6)
                                        Performance Data (10)
                                        Activate/Switch to Auxiliary Power (12)
                                        Select Remote Control (13)
                                        Enable Local Control (15)
                                        Auto - Calibration Override (16)
                                        ISU Enable/Disable (17)
                                        Base Data Transmission
                                        Enable/Disable(18)
                                        Request Status Data (19)
                                        Automatic Calibration (20)
                                        Spot Blanking(*) (22)
                                BASE DATA ENABLE (**)
                                        R, V, & W All Enabled (A)
                                        Reflectivity enabled (R)
                                        Velocity enabled (V)
                                        Width Enabled (W)
                                        R, V, & W All Disabled (N)

* Spot blanking The Data arguments in halfwords 2 - 16 shall transmit the
additional parameters needed for Base Data enable or the password for Spot
blanking.
** Up to 5 characters can be sent. combinations of V, W, and R separated with a
delimiter ( / ) are allowed.
(rms_rda_state.c)

(5)  RDA CHANNEL CONTROL COMMAND (FAA/RMMS to ORPG) - Sends an RDA channel
command.
The DATA ARGUMENTS are:
                                RDA CHANNEL CONTROL COMMAND:
                                        Set RDA to Controlling Channel (4)
                                        Set RDA to Non-Controlling Channel (5)
                                PASSWORD (*)

* An 8 character password is required from the FAA/RMMS.
(rms_rda_channel.c)

(6)  CHANGE RDA OPERATING MODE COMMAND (FAA/RMMS to ORPG) - Sends an RDA mode
command.
The DATA ARGUMENT is:
                                RDA OPERATING MODE COMMAND:
                                        Set RDA to Maintenance Mode (2)
                                        Set RDA to Operational Mode (4)
(rms_rda_mode.c)

(7)  ARCHIVE II CONTROL (RECORD) COMMAND (FAA/RMMS to ORPG) - Controls Archive II
recording.
The DATA ARGUMENTS are:
                                ARCHIVE II COMMAND:
                                        Start (4)
                                        Stop (6)
                                ARCHIVE NUMBER OF VOLUME SCANS:
                                        Continous Recording (0)
                                        Number of Volume Scans (1 - 255)
(rms_arch.c)

(8)  RPG CONTROL COMMAND MESSAGE (FAA/RMMS to ORPG) - Sends an ORPG control message.
The DATA ARGUMENT is:
                                ORPG CONTROL COMMAND:
                                        Operational Mode (1)
                                        Test Mode (2)
                                        Restart (4)
                                        Shutdown - Standby (5)
                                        Shutdown _ Off (6)
(rms_rpg_control.c)

(9)  FORCE ADAPTATION DATA UPDATE COMMAND (FAA/RMMS to ORPG) - Sends a command to
force the active ORPG channel to update adaptation data to the redundant ORPG
channel.
(rms_force_adaptation_msg.c)

(10) NARROWBAND INTERFACE COMMAND (FAA/RMMS to ORPG) - Controls narrowband connects
and disconnects.
The DATA ARGUMENTS are:
                                NARROWBAND COMMAND:
                                        No Change in Status (0)
                                        Disconnect (1)
                                        Connect (2)
                                STARTING LINE NUMBER (1 - 47)
                                ENDING LINE NUMBER (*)  (0, 2 - 47)

* If the Ending Line Number is zero then previous halfword is the single line
number to change.
(rms_narrowband_interface.c )

(11) WIDEBAND INTERFACE COMMAND (FAA/RMMS to ORPG) - Controls wideband connects
and disconnects.
The DATA ARGUMENTS are:
                                WIDEBAND COMMAND:
                                        No Change in Status (0)
                                        Disconnect (1)
                                        Connect (2)
                                WIDEBAND LINE TO CHANGE (1,3)
(rms_wb.c)

(12) WIDEBAND LOOP TEST COMMAND (FAA/RMMS to ORPG) - Start or stop wideband loopback
test.
The DATA ARGUMENT is:
                                WIDEBAND LOOPBACK COMMAND:
                                        Disable LB Test (0)
                                        Set Wideband Loopback Interval (60000-300000)
(rms_loopback_msg.c)

(13) DISPLAY FREE TEXT MESSAGE COMMAND (ORPG to FAA/RMMS) - Sends free text message
to the FAA/RMMS.
The DATA ARGUMENTS are:
                                FREE TEXT MESSAGE SIZE (0 - 200)
                                FREE TEXT MESSAGE (*)

 * The message consists of an ASCII string with 2 characters per halfword
including embedded carriage returns, line feeds, etc.
(rms_send_free_text.c)

(14) SEND FREE TEXT MESSAGE COMMAND (FAA/RMMS to ORPG) - Sends a free text message
to the ORPG.
The DATA ARGUMENTS are:
                                SEND FREE TEXT MESSAGE:
                                        All (0)
                                        RDA (1)
                                        UCP (2)
                                        APUP (4)
                                        PUES (8)
                                        Line# (32)
                                FREE TEXT MESSAGE SIZE (0 - 200)
                                FREE TEXT MESSAGE (*)

 * The message consists of an ASCII string with 2 characters per halfword
including embedded carriage returns, line feeds, etc.
(rms_rec_free_text.c)

(15) EDIT ASSOCIATED PUPS IDS/COMMLINE ASSIGNMENTS (FAA/RMMS to ORPG) - Requests
a current PUP id.
The DATA ARGUMENTS are:
                                EDIT PUPsIDS COMMLINE ASSIGNMENT:
                                        Edit PUPs IDS/Commline (1)
                                        Cancel the pending Edit (2)
                                LINE NUMBER (1 - 47)
(rms_edit_pup_id.c)

(16) ASSOCIATED PUPS IDS/COMMLINE ASSIGNMENTS (ORPG to FAA/RMMS) - Sends PUP id
to the FAA/RMMS.
The DATA ARGUMENTS are:
                                LINE NUMBER (1 - 47)
                                PUP ID (*)

*An ASCII string representing the 4 character id used for the PUP.
(rms_edit_pup_id.c)

(17) DOWNLOAD ASSOCIATED PUPS IDS/COMMLINE ASSIGNMENTS (FAA/RMMS to ORPG) - Places
the edited PUP id into the ORPG system.
The DATA ARGUMENTS are:
                                LINE NUMBER (1 - 47)
                                PUP ID (*)

*An ASCII string representing the 4 character id used for the PUP.
(rms_download_pup_id.c)

(18) EDIT CLUTTER SUPPRESSION REGIONS (FAA/RMMS to ORPG) - Requests a current
clutter suppression region for a selected file.
The DATA ARGUMENTS are:
                                EDIT CLUTTER SUPPRESSION REGIONS:
                                        Edit Regions (1)
                                        Cancel pending Edit (2)
                                FILE NUMBER (1 - 20)
(rms_edit_clutter.c)

(19) CLUTTER SUPPRESSION REGIONS (ORPG to FAA/RMMS) - Sends  a specified current
clutter suppression regions for the requested file number to the FAA/RMMS.
The DATA ARGUMENTS are:
                                FILE NUMBER (1 - 20)
                                START RANGE (2 - 510)
                                STOP RANGE (2 - 510)
                                START AZIMUTH (0 - 360)
                                STOP AZIMUTH (0 - 360)
                                ELEVATION SEGMENT NUMBER (1 - 2)
                                OPERATION SELECT CODE:
                                        Bypass filter forced (0)
                                        Bypass Map in control (1)
                                        Clutter filtering forced (2)
                                CHANNEL D WIDTH:
                                        Minimum (1)
                                        Medium (2)
                                        Maximum (3)
                                CHANNEL S WIDTH:
                                        Minimum (1)
                                        Medium (2)
                                        Maximum (3)

 These values are sent for all 15 zones in the file.
(rms_edit_clutter.c)

(20) DOWNLOAD CLUTTER SUPPRESSION REGIONS (FAA/RMMS to ORPG) - Receives  a
an edited version of the clutter suppression regions for the requested file
number and places it into the ORPG system.
The DATA ARGUMENTS are:
                                FILE NUMBER (1 - 20)
                                START RANGE (2 - 510)
                                STOP RANGE (2 - 510)
                                START AZIMUTH (0 - 360)
                                STOP AZIMUTH (0 - 360)
                                ELEVATION SEGMENT NUMBER (1 - 2)
                                OPERATION SELECT CODE:
                                        Bypass filter forced (0)
                                        Bypass Map in control (1)
                                        Clutter filtering forced (2)
                                CHANNEL D WIDTH:
                                        Minimum (1)
                                        Medium (2)
                                        Maximum (3)
                                CHANNEL S WIDTH:
                                        Minimum (1)
                                        Medium (2)
                                        Maximum (3)

These values are sent for all 15 zones in the file.
(rms_download_clutter.c)

(21) EDIT CLUTTER FILTER BYPASS MAPS (FAA/RMMS to ORPG) - Requests the current
clutter filter bypass map information.
The DATA ARGUMENTS are:
                                EDIT CLUTTER MAP:
                                        Edit all maps (1)
                                        Edit Seg# and Rad# (2)
                                        Cancel pending edit (3)
                                SEGMENT NUMBER (1 - 2)
                                RADIAL NUMBER (1 - 256)
(rms_edit_bypass_map.c)

(22) CLUTTER FILTER BYPASS MAPS (ORPG to FAA/RMMS) - Sends current clutter filter
bypass map segement and radial to the FAA/RMMS.
The DATA ARGUMENTS are:
                                SEGMENT NUMBER (1 - 2)
                                RADIAL NUMBER (1 - 256)
                                RANGE BINS 0 - 15 (0,1)
                                RANGE BINS 16 - 31 (0,1)
                                .
                                .
                                .
                                RANGE BINS 480 - 495 (0,1)
                                RANGE BINS 496 - 511 (0,1)

Each elevation segement includes 256 azimuth radials, each of which consists of
512 range cells with each range cell having a 1 kilometer resolution starting at
0 to 1 kilometer.  Increasing radials are taken to be clockwise relative to true
north. Elevation segment number 1 is closest to the ground, increasing segment
numbers denote increasing elevation.
(rms_edit_bypass_map.c)

(23) DOWNLOAD CLUTTER FILTER BYPASS MAPS (FAA/RMMS to ORPG) - Receives edited
clutter filter bypass map segement and radial and pplaces it into the ORPG
system.
The DATA ARGUMENTS are:
                                SEGMENT NUMBER (1 - 2)
                                RADIAL NUMBER (1 - 256)
                                RANGE BINS 0 - 15 (0,1)
                                RANGE BINS 16 - 31 (0,1)
                                .
                                .
                                .
                                RANGE BINS 480 - 495 (0,1)
                                RANGE BINS 496 - 511 (0,1)

Each elevation segement includes 256 azimuth radials, each of which consists of
512 range cells with each range cell having a 1 kilometer resolution starting at
0 to 1 kilometer.  Increasing radials are taken to be clockwise relative to true
north. Elevation segment number 1 is closest to the ground, increasing segment
numbers denote increasing elevation.
(rms_download_bypass_map.c)

(24) EDIT LOAD SHED CATEGORIES (FAA/RMMS to ORPG) - Request current load shed
warning and alarm levels for the selected load shed category.
The DATA ARGUMENTS are:
                                EDIT LOAD SHED CATEGORIES:
                                        Edit Load Shed Categories (1)
                                        Cancel Pending Edit (2)
                                WEATHER MODE:
                                        Precipitation/Severe Weather (A)
                                        Clear Air (B)
                                LINE NUMBER:
                                        CPU (1)
                                        Memory (2)
                                        Distribution (3)
                                        Storage (4)
                                        Input buffer (5)
                                        Wideband (7)
(rms_edit_load_shed.c)

(25) LOAD SHED CATEGORIES (ORPG to FAA/RMMS) - Sends selected load shed warning and
alarm levels to the FAA/RMMS.
The DATA ARGUMENTS are:
                                LINE NUMBER:
                                        CPU (1)
                                        Memory (2)
                                        Distribution (3)
                                        Storage (4)
                                        Input buffer (5)
                                        Wideband (7)
                                WARNING (0 - 100)
                                ALARM (0 - 100)

Typically, alarm levels are set hight and warning levels are set significantly
lower to prevent rapid variations betwee over and under load conditions.
(rms_edit_load_shed.c)

(26) DOWNLOAD LOAD SHED CATEGORIES (FAA/RMMS to ORPG) - Receives edited load shed
warning and alarm levels and places them in the ORPG system.
The DATA ARGUMENTS are:
                                LINE NUMBER:
                                        CPU (1)
                                        Memory (2)
                                        Distribution (3)
                                        Storage (4)
                                        Input buffer (5)
                                        Wideband (7)
                                WARNING (0 - 100)
                                ALARM (0 - 100)

Typically, alarm levels are set hight and warning levels are set significantly
lower to prevent rapid variations betwee over and under load conditions.
(rms_download_load_shed.c)

(27) EDIT NARROWBAND RECONFIGURATION CONTROL (FAA/RMMS to ORPG) - Request current
narrowband configuration for requested line.
The DATA ARGUMENTS are:
                                EDIT NB RE-CONFIGURATION:
                                        Edit NB Re_Config (1)
                                        Cancel pending Edit (2)
                                LINE NUMBER (1 - 47)
(rms_edit_nb_cfg.c)

(28) NARROWBAND RECONFIGURATION CONTROL (ORPG to FAA/RMMS) - Sends
narrowband configuration for requested line to the FAA/RMMS.
The DATA ARGUMENTS are:
                                LINE NUMBER (1 - 47)
                                LINE CLASS:
                                        Associated PUP (APUP)
                                        Non_Associated PUP (NAPUP)
                                        Other Users (Other)
                                        River Forecast Center (RFC)
                                        Rain guage Data Acq. (RGDAC)
                                        RPG Operator Position (RPGOP)
                                BAUD RATE (4800,9600,56000)
                                LINE TYPE:
                                        Dedicated (DEDIC)
                                        Dial-In (DIALIN)
                                        Dial-In/Dial-Out (DINOUT)
                                PUP ID/PASSWORD (*)
                                DISTRIBUTION METHOD:
                                        Single Set of Products (SSET)
                                        Single Set sent every volume scan(RSET)
                                        One-time Requests (1TIM)
                                        Combination (COMB)
                                TIME LIMIT (1 - 1440)

*An ASCII string representing the 4 character id used for the PUP ID/Password.
(rms_edit_nb_cfg.c)

(29) DOWNLOAD NARROWBAND RECONFIGURATION CONTROL (FAA/RMMS to ORPG) - Receives
edited narrowband configuration for requested line and places it in the ORPG.
The DATA ARGUMENTS are:
                                LINE NUMBER (1 - 47)
                                LINE CLASS:
                                        Associated PUP (APUP)
                                        Non_Associated PUP (NAPUP)
                                        Other Users (Others)
                                        River Forecast Center (RFC)
                                        Rain guage Data Acq. (RGDAC)
                                        RPG Operator Position (RPGOP)
                                BAUD RATE (4800,9600,56000)
                                LINE TYPE:
                                        Dedicated (DECIC)
                                        Dial-In (DIALIN)
                                        Dial-In/Dial-Out (DINOUT)
                                PUP ID/PASSWORD (*)
                                DISTRIBUTION METHOD:
                                        Single Set of Products (SSET)
                                        Single Set sent every volume scan(RSET)
                                        One-time Requests (1TIM)
                                        Combination (COMB)
                                TIME LIMIT (1 - 1440)

*An ASCII string representing the 4 character id used for the PUP ID/Password.
(rms_download_nb_cfg.c)

(30) EDIT NARROWBAND DIAL-IN CONTROL (FAA/RMMS to ORPG) - Requests current
dial in configuration for selected line.
The DATA ARGUMENTS are:
                                EDIT NB DIAL-IN CONTROL:
                                        Edit NB Dial-In (1)
                                        Cancel pending Edit (2)
                                LINE NUMBER (1 - 47)
(rms_edit_dial_cfg.c)

(31) NARROWBAND DIAL-IN CONTROL (ORPG to FAA/RMMS) - Sends dial in configuration for
requested line to the FAA/RMMS.
The DATA ARGUMENTS are:
                                LINE NUMBER (1 - 47)
                                PORT PASSWORD (*)
                                DISTRIBUTION METHOD:
                                        Single Set of Products (SSET)
                                        Single Set sent every volume scan(RSET)
                                        One-time Requests (1TIM)
                                        Combination (COMB)
                                TIME LIMIT (1 - 1440)

*An ASCII string representing the 4 character id used for the Password.
(rms_edit_dial_cfg.c)

(32) DOWNLOAD NARROWBAND DIAL-IN CONTROL (FAA/RMMS to ORPG) - Receives edited dial
in configuration and places it in the ORPG.
The DATA ARGUMENTS are:
                                LINE NUMBER (1 - 47)
                                PORT PASSWORD (*)
                                DISTRIBUTION METHOD:
                                        Single Set of Products (SSET)
                                        Single Set sent every volume scan(RSET)
                                        One-time Requests (1TIM)
                                        Combination (COMB)
                                TIME LIMIT (1- 1440)

*An ASCII string representing the 4 character id used for the Password.
(rms_download_dial_cfg.c)

(33) EDIT NARROWBAND AUTHORIZED USER CONTROL (FAA/RMMS to ORPG) - Request current
authorized user configuration for requested line.
The DATA ARGUMENTS are:
                                EDIT NB AUTHORIZED USER:
                                        Edit NB Auth User (1)
                                        Cancel pending Edit (2)
                                LINE NUMBER (1 - 47)
(rms_edit_auth_user.c)

(34) NARROWBAND AUTHORIZED USER	CONTROL (ORPG to FAA/RMMS) -  Sends authorized
user configuration for requested line to the FAA/RMMS.
The DATA ARGUMENTS are:
                                LINE NUMBER (1 - 47)
                                USER ID (*)
                                USER PASSWORD (**)
                                DISCONNECT OVERRIDE (Y, N)

*An ASCII string of 4 characters representing the User id.
**An ASCII string of 6 characters representing the User Password.
(rms_edit_auth_user.c)

(35) DOWNLOAD NARROWBAND AUTHORIZED USER CONTROL (FAA/RMMS to ORPG) -  Receives
edited authorized user configuration and places it in ORPG.
The DATA ARGUMENTS are:
                                LINE NUMBER (1 - 47)
                                USER ID (*)
                                USER PASSWORD (**)
                                DISCONNECT OVERRIDE (Y, N)

*An ASCII string of 4 characters representing the User id.
**An ASCII string of 6 characters representing the User Password.
(rms_download_auth_user.c)

(36) SYSTEM STATUS LOG RECORD MESSAGE (ORPG to FAA/RMMS) - A system status log
record message is sent without any request command from the FAA/RMMS.
The DATA ARGUMENT is:
                                STATUS LOG RECORD MESSAGE (*)

*One record consists of eighty ASCII characters equivalent to forty halfwords.
Both the ORPG and RMS logs will reflect the same information with embedded date
and time stamps.
(rms_send_record_log.c)

(37) ACKNOWLEDGMENT MESSAGE (ORPG to FAA/RMMS, FAA/RMMS to ORPG) -
Acknowledgment messages are sent across the interface in response to a command
or status message. All messages sent from the FAA/RMMS to the ORPG result in an
acknowledgment message being sent from the ORPG to the FAA/RMMS. Messages sent
from the ORPG to the FAA/RMMS also result in an acknowledgment being sent back
to the ORPG.  The only message that will not require an acknowledgement message
is an acknowledgement message received from the other system. Each message sent
across the interface has a unique message sequence number, which is repeated in
the corresponding acknowledgment message. This enables the receiving system to
match the acknowledgment to the appropiate message. After tranmitting, the
system will buffer the message until an acknowledgment is received. If an
acknowledgment is not received within ten seconds, the message will be
retransmitted three times. If retransmit attempts fail, the interface will be
declared down, and the system will attempt to reinitialize the interface. The
DATA ARGUMENTS are:
                                MESSAGE TYPE (1 - 39)
                                MESSAGE SEQUENCE NUMBER (1 - 16384)
                                ACKNOWLEDGEMENT CODE (0 - 32) (rms_send_ack.c)

(38) RMS INHIBIT MESSAGE (ORPG to FAA/RMMS) - The RMS inhibit is sent to allow the
operator control of the ORPG.  The FAA/RMMS will not be able to issue commands
or poll status on the CDS port for time specified in the command. The FAA/RMMS
will continue to receive state, status, alarm, and status log record messages
during the inhibit time. It is the responsibility of the FAA/RMMS to remain
passive with respect to the CDS port for the requested amount of time.
The DATA ARGUMENT is:
                                INHIBIT TIME (1 - 3600)
(rms_inhibit.c)

(39) RMS UP MESSAGE (ORPG to FAA/RMMS, FAA/RMMS to ORPG) - An RMS up message can
be sent from either the FAA/RMMS or the ORPG as an initialization sequence of
the interface. If, during the normal course of operation, either the FAA/RMMS or
the ORPG determines the interface is "down", all pending RMS related I/O will be
cancelled and an RMS up message will be sent. Upon receipt of this message by
either the FAA/RMMS or the ORPG, all RMS related I/O buffers will be cleared and
timers will be reset. The RMS up message is used during operation to
re-establish communication.
The DATA ARGUMENT is:
                                RETRY NUMBER (0 - 32768)
(rms_up.c)


NOTE: It is assumed that this command is to be run in a normal ORPG
environment.  It requires the event notification daemon (en_daemon) to be
running prior to invocation.

NOTE: When editing narrowband line information a line number will be required.
The ORPG numbers lines logically beginning with 0, while the FAA/RMMS numbers
lines starting with 1. In order to edit narrowband line 2 the user must enter
line 3 in the FAA/RMMS to select the correct line in ORPG.

SEE ALSO orpg(1) rssd(1) lb(3) rms_message(3) rms_util(3) rms_ptmgr(3)

$Revision: 1.3 $

